2025-11-21 08:32:58 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table audit_logs: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:33:03 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column user_id: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:33:17 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column before: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:33:17 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column before: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-11-21 08:33:17 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column after: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:33:17 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column timestamp: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:33:20 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table column_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:33:20 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table column_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:33:23 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table database_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:33:23 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table database_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:33:26 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table table_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:33:26 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table table_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:33:27 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table users: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:33:27 | ERROR    | app.services.metadata_ingestion:ingest_database:577 - Ingestion failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('a6a385fe-8b64-4989-b01b-7196189b0fd0'), '8153eb8d-818b-473b-9b5c-3a0796c55582', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 33, 17, 332152), datetime.datetime(2025, 11, 21, 14, 33, 17, 332152))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:34:13 | ERROR    | app.services.metadata_ingestion:enrich_database:350 - GPT enrichment failed for database: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:16 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table audit_logs: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:21 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column user_id: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:30 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column target_id: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:33 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column before: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:33 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column before: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-11-21 08:34:33 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column after: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:34:33 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column timestamp: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:34:37 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table column_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:37 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table column_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:34:39 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table database_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:39 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table database_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:34:42 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table table_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:42 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table table_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:34:44 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table users: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:34:44 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table users: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:34:44 | ERROR    | app.services.metadata_ingestion:ingest_database:577 - Ingestion failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('31133002-a87d-4dee-8f88-7bd30d61df4d'), '4e19c831-b43c-4797-946c-8bff5bd12129', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 34, 33, 317573), datetime.datetime(2025, 11, 21, 14, 34, 33, 317573))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:36:29 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column user_id: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:36:37 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column target_id: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:36:41 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column before: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:36:41 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column before: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-11-21 08:36:41 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column after: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:36:41 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column timestamp: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:36:43 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table column_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:36:43 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table column_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:36:45 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table database_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:36:45 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table database_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:36:49 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table table_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:36:49 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table table_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:36:52 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table users: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:36:52 | ERROR    | app.services.metadata_ingestion:ingest_database:577 - Ingestion failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('0e9c2ba7-2f96-4f7c-af80-8d9c56663701'), 'ba97ca49-4ec0-4f7f-bfc8-00688742edad', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 36, 41, 65051), datetime.datetime(2025, 11, 21, 14, 36, 41, 65051))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:38:23 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table audit_logs: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:38:28 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column user_id: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:38:37 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column target_id: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:38:39 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column before: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:38:39 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column before: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-11-21 08:38:39 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column after: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:38:39 | ERROR    | app.services.metadata_ingestion:_process_table:671 - Error processing column timestamp: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:38:42 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table column_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:38:42 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table column_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:38:46 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table database_metadata: Expecting value: line 1 column 1 (char 0)
2025-11-21 08:38:46 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table database_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:38:49 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table table_metadata: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:38:50 | ERROR    | app.services.metadata_ingestion:ingest_database:563 - Error processing table users: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-21 08:38:50 | ERROR    | app.services.metadata_ingestion:ingest_database:577 - Ingestion failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO column_metadata (id, table_id, column_name, data_type, description, is_primary_key, is_foreign_key, is_nullable, is_pii, cardinality, valid_values, example_value, transformation_logic, downstream_usage, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE)]
[parameters: (UUID('4ae45a02-4a06-40c6-b51a-871d7da57dca'), '5a6d9136-f686-474f-becd-83821e1e7cc1', 'before', 'text', 'Column: before (text)', False, False, True, False, 'low', "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", "{'description': 'Column: description (text)', 'is_primary_key': False, 'is_foreign_key': False, 'is_nullable': True, 'is_pii': False, 'cardinality':  ... (265 characters truncated) ... nd soft tissues', 'example_value': 'Endodontic treatment for back tooth', 'transformation_logic': None, 'downstream_usage': 'General purpose column'}", None, 'General purpose column', datetime.datetime(2025, 11, 21, 14, 38, 39, 104232), datetime.datetime(2025, 11, 21, 14, 38, 39, 104232))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-11-23 11:53:55 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column id: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:08 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column created_at: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:14 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column provider_id: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:33 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column cancelled_by: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:34 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column confirmed_at: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:42 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table availability_exceptions: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:47 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column start_time: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:55 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column updated_at: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:54:56 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table base_availability_rules: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:12 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table provider_services: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:17 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column created_at: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:21 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table recurring_patterns: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:33 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column month_of_year: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:34 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column max_occurrences: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:38 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column created_at: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:41 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table service_providers: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:44 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column email: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:46 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column full_name: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:49 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column specialty: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:55:57 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column termination_date: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:00 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column created_at: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:03 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table services: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:09 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column description: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:19 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column is_active: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:21 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column updated_at: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:23 | ERROR    | app.services.metadata_ingestion:enrich_table:431 - GPT enrichment failed for table users: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:25 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column email: Expecting value: line 1 column 1 (char 0)
2025-11-23 11:56:31 | ERROR    | app.services.metadata_ingestion:enrich_column:489 - GPT enrichment failed for column insurance_provider: Expecting value: line 1 column 1 (char 0)
